<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Until You Meet Bitti ‚ù§Ô∏è</title>
  <meta name="theme-color" content="#0b0b14" />

  <style>
    :root{
      --bg1:#070713;
      --bg2:#16081d;

      --text: rgba(255,255,255,.94);
      --muted: rgba(255,255,255,.66);

      --stroke: rgba(255,255,255,.14);
      --glassTop: rgba(255,255,255,.20);
      --glassBot: rgba(255,255,255,.10);

      --pink:#ff4fd8;
      --rose:#ff2f6d;
      --lav:#b58bff;

      --radius: 22px;
      --shadow: 0 20px 70px rgba(0,0,0,.55);
      --glow: 0 30px 90px rgba(255,79,216,.18);

      --safe-top: env(safe-area-inset-top);
      --safe-bot: env(safe-area-inset-bottom);

      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: var(--font);
      color: var(--text);
      overflow:hidden;
      background:
        radial-gradient(1200px 900px at 20% 10%, rgba(181,139,255,.28), transparent 60%),
        radial-gradient(980px 720px at 82% 22%, rgba(255,79,216,.22), transparent 56%),
        radial-gradient(900px 820px at 50% 92%, rgba(255,47,109,.18), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
    }

    .shimmer{
      position:fixed; inset:-30%;
      z-index:0;
      pointer-events:none;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.08), transparent 56%),
        radial-gradient(circle at 70% 60%, rgba(255,255,255,.06), transparent 56%),
        conic-gradient(from 90deg at 50% 50%,
          rgba(255,79,216,.12),
          rgba(181,139,255,.10),
          rgba(255,47,109,.10),
          rgba(255,79,216,.12)
        );
      filter: blur(26px);
      opacity:.60;
      animation: shimmer 14s ease-in-out infinite alternate;
    }
    @keyframes shimmer{
      0%{ transform: translate(-2%, -2%) rotate(0deg) scale(1.02); }
      100%{ transform: translate(2%, 2%) rotate(14deg) scale(1.06); }
    }

    /* Hearts behind everything */
    #hearts{
      position:fixed; inset:0;
      z-index:1;
      pointer-events:none;
      overflow:hidden;
      opacity:.55;
      transition: opacity .7s ease;
    }
    body.unlocked #hearts{ opacity:.95; }

    .heart{
      position:absolute;
      width:16px; height:16px;
      transform: rotate(45deg);
      opacity:0;
      filter: drop-shadow(0 14px 22px rgba(255,79,216,.14));
      animation: floatUp linear infinite;
      will-change: transform, opacity;
      mix-blend-mode: screen;
    }
    .heart::before,.heart::after{
      content:"";
      position:absolute;
      width:100%; height:100%;
      border-radius:50%;
      background: var(--hcolor, rgba(255,79,216,.92));
    }
    .heart{ background: var(--hcolor, rgba(255,79,216,.92)); border-radius: 3px; }
    .heart::before{ left:-50%; top:0; }
    .heart::after{ left:0; top:-50%; }

    @keyframes floatUp{
      0%{ transform: translate3d(0, 110vh, 0) rotate(45deg) scale(var(--s,1)); opacity:0; }
      10%{ opacity: var(--o,.75); }
      90%{ opacity: var(--o,.75); }
      100%{
        transform: translate3d(var(--drift, 40px), -20vh, 0)
                   rotate(calc(45deg + var(--spin, 140deg)))
                   scale(calc(var(--s,1) * 1.12));
        opacity:0;
      }
    }

    .glass{
      background: linear-gradient(180deg, var(--glassTop), var(--glassBot));
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow), var(--glow);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
    }

    /* ================= TIMER (TOP, CENTERED, NO OVERFLOW) ================= */
    #topTimer{
      position: fixed;
      top: calc(14px + var(--safe-top));
      left: 50%;
      transform: translate(-50%, -12px);
      width: min(920px, 94vw);
      z-index: 999999;
      opacity: 0;
      pointer-events: none;
      transition: opacity .55s ease, transform .55s ease;
      overflow: hidden; /* IMPORTANT: prevents any visual overflow */
    }
    body.unlocked #topTimer{
      opacity: 1;
      transform: translate(-50%, 0);
    }

    .timerHead{
      padding: 12px 14px 8px;
      text-align:center;
    }
    .timerTitle{
      margin: 0;
      font-weight: 950;
      font-size: clamp(15px, 2.0vw, 20px);
      line-height:1.15;
      letter-spacing:.2px;
      text-shadow: 0 18px 60px rgba(0,0,0,.35);
    }
    .accent{
      color: rgba(255,79,216,.98);
      text-shadow: 0 20px 70px rgba(255,79,216,.22);
    }
    .timerSub{
      margin: 6px 0 0;
      color: var(--muted);
      font-size: 12.5px;
      white-space: nowrap;
    }

    /* One-line timer row */
    .timerRow{
      padding: 10px 14px 12px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap: clamp(6px, 1.0vw, 12px);
      flex-wrap: nowrap;
      white-space: nowrap;
      overflow: hidden; /* HARD STOP overflow */
    }

    .pill{
      position: relative;
      display:inline-flex;
      align-items: baseline;
      justify-content: center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.16);
      background: linear-gradient(180deg, rgba(0,0,0,.28), rgba(255,255,255,.06));
      min-width: clamp(74px, 15vw, 132px); /* responsive width without overflow */
      overflow: hidden;
    }
    .pill::before{
      content:"";
      position:absolute; inset:-45%;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,79,216,.18), transparent 60%),
        radial-gradient(circle at 70% 60%, rgba(181,139,255,.16), transparent 60%);
      filter: blur(12px);
      opacity:.55;
      transform: rotate(10deg);
      pointer-events:none;
    }

    .digit{
      position:relative;
      font-variant-numeric: tabular-nums;
      font-weight: 950;
      font-size: clamp(22px, 3.3vw, 40px);
      line-height: 1;
      letter-spacing: .02em;
      color: rgba(255,255,255,.97);
      text-shadow: 0 14px 55px rgba(0,0,0,.45);
    }

    .digit.bump{
      animation: bump .55s ease;
    }
    @keyframes bump{
      0%{ transform: translateY(0) scale(1); filter: drop-shadow(0 0 0 rgba(255,79,216,0)); }
      35%{ transform: translateY(-1px) scale(1.06); filter: drop-shadow(0 10px 22px rgba(255,79,216,.22)); }
      100%{ transform: translateY(0) scale(1); filter: drop-shadow(0 0 0 rgba(255,79,216,0)); }
    }

    .uLabel{
      position:relative;
      font-weight: 850;
      font-size: 11px;
      letter-spacing: .16em;
      text-transform: uppercase;
      color: rgba(255,255,255,.78);
    }

    .sep{
      font-weight: 900;
      font-size: clamp(18px, 2.6vw, 28px);
      color: rgba(255,255,255,.55);
      transform: translateY(-1px);
      text-shadow: 0 12px 40px rgba(0,0,0,.35);
      animation: blink 1s steps(1,end) infinite;
    }
    @keyframes blink{
      0%,49%{ opacity:.85; }
      50%,100%{ opacity:.35; }
    }

    .timerMeta{
      padding: 0 14px 14px;
      text-align:center;
      color: rgba(255,255,255,.74);
      font-size: 13px;
    }

    /* On smaller screens: shrink pills + hide labels to keep ONE LINE */
    @media (max-width: 520px){
      .pill{ min-width: 0; padding: 10px 10px; gap: 8px; }
      .uLabel{ display:none; } /* keeps one line on phones */
      .timerSub{ font-size: 12px; }
    }
    @media (max-width: 360px){
      .sep{ display:none; } /* ultra-small screens */
      .timerRow{ gap: 8px; }
    }

    /* ============= LOCK OVERLAY ============= */
    #lockOverlay{
      position: fixed;
      inset: 0;
      z-index: 1000000;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: calc(26px + var(--safe-top)) 18px calc(22px + var(--safe-bot));
      background: rgba(0,0,0,.18);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      transition: opacity .45s ease, transform .45s ease;
    }
    #lockOverlay.fadeOut{
      opacity:0;
      transform: translateY(10px);
      pointer-events:none;
    }

    .lockCard{
      width: min(430px, 92vw);
      padding: 18px 16px 16px;
      text-align:center;
    }
    .lockTitle{ margin: 0 0 10px; font-weight: 950; font-size: 22px; letter-spacing:.2px; }
    .lockSub{ margin: 0 0 18px; color: var(--muted); font-size: 14px; line-height:1.35; }

    .dots{ display:flex; justify-content:center; gap:10px; margin: 12px 0 8px; }
    .dot{
      width: 11px; height: 11px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.26);
      background: rgba(255,255,255,.05);
      transition: background .18s ease, transform .18s ease, box-shadow .18s ease;
    }
    .dot.filled{
      background: rgba(255,255,255,.92);
      transform: scale(1.06);
      box-shadow: 0 0 0 7px rgba(255,79,216,.10);
    }

    .lockMsg{ min-height:20px; margin: 8px 0 12px; font-size: 13px; color: rgba(255,255,255,.78); }
    .lockMsg.err{ color: rgba(255,140,170,.95); }

    .keypad{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      padding: 12px;
    }
    .key{
      height: 66px;
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.08);
      color: var(--text);
      font-weight: 950;
      font-size: 22px;
      cursor:pointer;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      position:relative;
      overflow:hidden;
    }
    .key span{
      display:block;
      font-size: 10px;
      font-weight: 750;
      letter-spacing: .22em;
      opacity:.65;
      margin-top: 2px;
    }
    .key:active{
      transform: scale(.985);
      background: rgba(255,255,255,.11);
      border-color: rgba(255,255,255,.24);
    }

    .bottomRow{
      display:flex;
      gap: 10px;
      padding: 0 12px 12px;
    }
    .mini{
      flex:1;
      height: 44px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.18);
      color: rgba(255,255,255,.85);
      cursor:pointer;
      font-weight: 900;
      transition: transform .12s ease, background .12s ease;
      -webkit-tap-highlight-color: transparent;
    }
    .mini:active{ transform: scale(.99); background: rgba(0,0,0,.28); }

    .shake{ animation: shake .42s ease; }
    @keyframes shake{
      0%,100%{ transform: translateX(0); }
      20%{ transform: translateX(-10px); }
      40%{ transform: translateX(10px); }
      60%{ transform: translateX(-8px); }
      80%{ transform: translateX(8px); }
    }

    .footerHint{
      margin-top: 10px;
      color: rgba(255,255,255,.55);
      font-size: 12px;
    }
  </style>
</head>

<body>
  <div class="shimmer"></div>
  <div id="hearts" aria-hidden="true"></div>

  <!-- TOP TIMER -->
  <header id="topTimer" class="glass" aria-label="Countdown timer">
    <div class="timerHead">
      <p class="timerTitle">Time left until you meet <span class="accent">Bitti</span> ‚ú®</p>
      <p class="timerSub">Feb 11, 2026 ¬∑ 10:02 AM (Pacific)</p>
    </div>

    <div class="timerRow" role="timer" aria-live="polite">
      <div class="pill"><span id="d" class="digit">00</span><span class="uLabel">Days</span></div>
      <span class="sep">:</span>
      <div class="pill"><span id="h" class="digit">00</span><span class="uLabel">Hours</span></div>
      <span class="sep">:</span>
      <div class="pill"><span id="m" class="digit">00</span><span class="uLabel">Min</span></div>
      <span class="sep">:</span>
      <div class="pill"><span id="s" class="digit">00</span><span class="uLabel">Sec</span></div>
    </div>

    <div id="metaLine" class="timerMeta"></div>
  </header>

  <!-- LOCK OVERLAY -->
  <div id="lockOverlay" aria-label="Passcode Lock">
    <div class="glass lockCard">
      <h2 class="lockTitle">Unlock ‚ù§Ô∏è</h2>
      <p class="lockSub">Enter the 6-digit passcode to see the countdown.</p>

      <div id="dots" class="dots" aria-label="Passcode dots">
        <div class="dot"></div><div class="dot"></div><div class="dot"></div>
        <div class="dot"></div><div class="dot"></div><div class="dot"></div>
      </div>

      <div id="lockMsg" class="lockMsg" aria-live="polite"></div>

      <div class="keypad" aria-label="Numeric keypad">
        <button class="key" data-digit="1">1<span>‚†Ä</span></button>
        <button class="key" data-digit="2">2<span>ABC</span></button>
        <button class="key" data-digit="3">3<span>DEF</span></button>
        <button class="key" data-digit="4">4<span>GHI</span></button>
        <button class="key" data-digit="5">5<span>JKL</span></button>
        <button class="key" data-digit="6">6<span>MNO</span></button>
        <button class="key" data-digit="7">7<span>PQRS</span></button>
        <button class="key" data-digit="8">8<span>TUV</span></button>
        <button class="key" data-digit="9">9<span>WXYZ</span></button>

        <button class="key" style="opacity:.45; pointer-events:none;">&nbsp;<span>&nbsp;</span></button>
        <button class="key" data-digit="0">0<span>‚†Ä</span></button>
        <button class="key" id="backBtn">‚å´<span>DEL</span></button>
      </div>

      <div class="bottomRow">
        <button class="mini" id="clearBtn">Clear</button>
        <button class="mini" id="hintBtn">Hint</button>
      </div>

      <div class="footerHint">Tip: works best on phone too üòâ</div>
    </div>
  </div>

  <script>
    const PASSCODE = "130725";
    const TARGET_MS = new Date("2026-02-11T10:02:00-08:00").getTime();

    /* Hearts */
    const hearts = document.getElementById("hearts");
    const rand = (min, max) => Math.random() * (max - min) + min;

    function makeHearts(count){
      hearts.innerHTML = "";
      const colors = [
        "rgba(255,79,216,.92)",
        "rgba(255,47,109,.86)",
        "rgba(181,139,255,.86)",
        "rgba(255,255,255,.60)"
      ];
      for (let i=0; i<count; i++){
        const el = document.createElement("div");
        el.className = "heart";

        const size = rand(10, 26);
        const left = rand(-5, 105);
        const dur = rand(7.6, 14.8);
        const delay = rand(0, 6);
        const opacity = rand(0.25, 0.9);
        const drift = rand(-70, 70);
        const spin = rand(-170, 170);
        const color = colors[Math.floor(Math.random()*colors.length)];

        el.style.width = size + "px";
        el.style.height = size + "px";
        el.style.left = left + "vw";
        el.style.setProperty("--s", (size/18).toFixed(2));
        el.style.setProperty("--o", opacity.toFixed(2));
        el.style.setProperty("--drift", drift.toFixed(0) + "px");
        el.style.setProperty("--spin", spin.toFixed(0) + "deg");
        el.style.setProperty("--hcolor", color);
        el.style.animationDuration = dur.toFixed(2) + "s";
        el.style.animationDelay = delay.toFixed(2) + "s";

        hearts.appendChild(el);
      }
    }
    makeHearts(28);

    /* Lock */
    const lockOverlay = document.getElementById("lockOverlay");
    const dotsWrap = document.getElementById("dots");
    const dots = Array.from(dotsWrap.querySelectorAll(".dot"));
    const lockMsg = document.getElementById("lockMsg");

    let entered = "";
    let locked = true;
    let hintClicks = 0;

    function vibrate(ms){ try{ if(navigator.vibrate) navigator.vibrate(ms); }catch(e){} }

    function setMessage(text, isErr=false){
      lockMsg.textContent = text || "";
      lockMsg.classList.toggle("err", !!isErr);
    }
    function updateDots(){
      dots.forEach((d,i)=> d.classList.toggle("filled", i < entered.length));
    }
    function resetEntry(){
      entered = "";
      updateDots();
    }
    function wrongPass(){
      vibrate(90);
      dotsWrap.classList.remove("shake");
      void dotsWrap.offsetWidth;
      dotsWrap.classList.add("shake");
      setMessage("Wrong passcode. Try again.", true);
      setTimeout(resetEntry, 520);
    }

    function unlock(){
      locked = false;
      document.body.classList.add("unlocked");
      makeHearts(52);

      lockOverlay.classList.add("fadeOut");
      setTimeout(() => lockOverlay.remove(), 480);

      startCountdown();
    }

    function onDigit(d){
      if(!locked) return;
      if(entered.length >= 6) return;
      entered += d;
      updateDots();
      setMessage("");

      if(entered.length === 6){
        if(entered === PASSCODE){
          setMessage("Unlocked ‚ù§Ô∏è");
          vibrate([25,40,25]);
          setTimeout(unlock, 260);
        } else {
          wrongPass();
        }
      }
    }

    document.querySelectorAll(".key[data-digit]").forEach(btn=>{
      btn.addEventListener("click", ()=> onDigit(btn.dataset.digit));
    });

    document.getElementById("backBtn").addEventListener("click", ()=>{
      if(!locked) return;
      if(entered.length){
        entered = entered.slice(0,-1);
        updateDots();
        vibrate(25);
      }
    });

    document.getElementById("clearBtn").addEventListener("click", ()=>{
      if(!locked) return;
      resetEntry();
      setMessage("");
      vibrate(35);
    });

    document.getElementById("hintBtn").addEventListener("click", ()=>{
      if(!locked) return;
      hintClicks++;
      vibrate(20);
      if(hintClicks === 1) setMessage("Hint: it‚Äôs a special date üòâ");
      else if(hintClicks === 2) setMessage("Another hint: starts with 13‚Ä¶");
      else setMessage("No more hints üòÑ");
    });

    window.addEventListener("keydown", (e)=>{
      if(!locked) return;
      if(e.key >= "0" && e.key <= "9") onDigit(e.key);
      if(e.key === "Backspace") document.getElementById("backBtn").click();
      if(e.key === "Escape") document.getElementById("clearBtn").click();
    });

    /* Countdown */
    const elD = document.getElementById("d");
    const elH = document.getElementById("h");
    const elM = document.getElementById("m");
    const elS = document.getElementById("s");
    const metaLine = document.getElementById("metaLine");

    let timerHandle = null;
    function pad2(n){ return String(n).padStart(2,"0"); }

    function setVal(el, v){
      if (el.textContent !== v){
        el.textContent = v;
        el.classList.remove("bump");
        void el.offsetWidth;
        el.classList.add("bump");
      }
    }

    function renderCountdown(){
      const diff = Math.max(0, TARGET_MS - Date.now());
      const totalSec = Math.ceil(diff / 1000);

      const days  = Math.floor(totalSec / 86400);
      const hours = Math.floor((totalSec % 86400) / 3600);
      const mins  = Math.floor((totalSec % 3600) / 60);
      const secs  = totalSec % 60;

      setVal(elD, String(days).padStart(2,"0"));
      setVal(elH, pad2(hours));
      setVal(elM, pad2(mins));
      setVal(elS, pad2(secs));

      metaLine.textContent = diff === 0 ? "She‚Äôs here ‚ù§Ô∏è" : "Every second gets you closer ‚ú®";
    }

    function startCountdown(){
      if (timerHandle) return;
      renderCountdown();

      const msToNextSecond = 1000 - (Date.now() % 1000);
      setTimeout(() => {
        renderCountdown();
        timerHandle = setInterval(renderCountdown, 1000);
      }, msToNextSecond);
    }
  </script>
</body>
</html>
